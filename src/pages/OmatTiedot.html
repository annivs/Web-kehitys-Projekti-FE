<!DOCTYPE html>
<html lang="fi">
<head>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <title>Omat tietoni</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;1,400&display=swap"/>
    <link rel="stylesheet" href="/src/css/style.css">
    <link rel="stylesheet" href="/src/css/modal.css"> <!-- Modalin tyylit -->
</head>
<body>
    <nav>
        <div class="otsikko">MyHealth</div>
        <ul>
            <li><a href="/index.html">Etusivu</a></li>
            <li><a id="login" href="Kirjaudu.html">Kirjautuminen</a></li>
            <li class="auth-link"><a href="OmatTiedot.html">Omat tietoni</a></li>
            <li class="auth-link"><a href="Analyysi.html">Päivän hyvinvointimittari</a></li>
            <li><button id="logoutButton" style="display: none;">Kirjaudu ulos</button></li>
        </ul>
    </nav>
    <main>
    <div class="main-container">
        <div class="form-container">
            <form class="diaryForm">
                <h3>Päiväkirja</h3>
        
                <label for="entryDate">Päivämäärä:</label>
                <input type="text" id="entryDate" placeholder="Kirjoita päivämäärä, esim. 2024-03-06">
        
                <label for="mood">Mielialani:</label>
                <input type="text" id="moodNotes" placeholder="Kuvaile mielialaasi">
        
                <label for="sleepHours">Nukuin (tuntia):</label>
                <input type="text" id="sleepNotes" placeholder="Kirjoita esim. '7'">
        
                <label for="notes">Aktiivisuus:</label>
                <input type="text" id="activityNotes" placeholder="Kirjoita vapaasti päivän aktiivisuudesta.">
        
                <button id="saveButton">Tallenna</button>
            </form>
        </div>
    <section id="diary">
    <div class="card">
        <h3>Hae omat päiväkirjamerkinnät</h3>
        <button id="fetch-all">Hae</button>
        <div class="card-img">
            <img src="/public/img/diary.jpg" alt="Diary" />
        </div>
        
        <div class="card-diary">
            <div>Päivämäärä: <span class="diary-date"></span></div>
            <div>Mieliala: <span class="diary-mood"></span></div>
            <div>Uni: <span class="diary-sleep"></span></div>
            <div>Aktiivisuus: <p class="diary-notes"></p></div>
            <div class="card-buttons">
                <button id="delete-btn" style="display: none;" >Poista merkintä</button>
                <button id="edit-btn" style="display: none;">Muokkaa merkintää</button>
            </div>
        </div>
    </div>
</div>
</section>
<div id="editModal" class="modal">
  <div class="modal-content">
    <h2>Muokkaa merkintää</h2>
    <form id="edit-form">
      <label for="edit-mood">Mieliala:</label>
      <input type="text" id="edit-mood" name="mood" required>
      
      <label for="edit-sleep-hours">Unetunnit:</label>
      <input type="number" id="edit-sleep-hours" name="sleep_hours" min="0" max="24" required>
  
      <label for="edit-notes">Muistiinpanot:</label>
      <textarea id="edit-notes" name="notes" required></textarea>
      
      <button type="submit" id="save-changes">Tallenna muutokset</button>
      <button type="button" id="close-modal">Sulje</button> 
    </form>
  </div>
</div>

</main>
<footer>Minun sivusto</footer>
<script type="module" src="/src/js/diary.js"></script>
<script type="module" src="/src/js/entries.js"></script>
<script type="module" src="/src/js/auth.js"></script>
</body>
</html>